import{a as N,b as h,c as p,d as k,e as f,f as v,h as j,i as F,j as y}from"./chunk-YJQN3DM6.js";import{a as T,b as d,c as E}from"./chunk-4PV6VIUB.js";import{r as o,s as $}from"./chunk-EME6DQ6Q.js";import{a as I}from"./chunk-4FAWX4OE.js";import{a as x}from"./chunk-ZCJUTBWB.js";import{$ as U,E as S,ha as m,ma as l,n as A,s as g}from"./chunk-CSPISQ2Y.js";import{a as s,b as n}from"./chunk-MON7YFGF.js";var C=class{constructor(t,b="/assets/i18n/",i=".json"){this.http=t,this.prefix=b,this.suffix=i}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}};var c=I,D=(()=>{let t=class t{get currentUser(){if(c.CURRENT_USER in localStorage){let i=localStorage.getItem(c.CURRENT_USER);if(i)return JSON.parse(i)}return null}set currentUser(i){localStorage.setItem(c.CURRENT_USER,JSON.stringify(i))}set appToken(i){localStorage.setItem(c.APP_TOKEN,i)}constructor(i){this.http=i}login(i,a){let r={username:"kminchelle",password:"0lelplR"};return this.http.post(`${c.DUMMYJSON_API}/login`,r)}getuserData(){return this.http.get(`${c.DUMMYJSON_API}/me`)}setLogoutTimer(i){this.tokenExpirationTimer=setTimeout(()=>{},i)}clearLogoutTimer(){this.tokenExpirationTimer&&(clearTimeout(this.tokenExpirationTimer),this.tokenExpirationTimer=null)}clearCurrentUser(){localStorage.removeItem(c.CURRENT_USER)}};t.\u0275fac=function(a){return new(a||t)(l(x))},t.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var B=(()=>{let t=class t{constructor(i,a){this.actions$=i,this.authService=a,this.login$=T(()=>this.actions$.pipe(E(N),U(({username:r,password:R})=>this.authService.login(r,R).pipe(g(u=>(console.info("login$ effect user --> ",u),this.authService.currentUser=u,this.authService.appToken=u.token,h({user:u}))),S(u=>A(p({error:u}))))))),this.getUserData$=T(()=>this.actions$.pipe(E(k),U(()=>this.authService.getuserData().pipe(g(r=>(console.info("getuserData$ effect user --> ",r),h({user:{}}),f({fullUserData:r}))),S(r=>A(p({error:r})))))))}};t.\u0275fac=function(a){return new(a||t)(l(d),l(D))},t.\u0275prov=m({token:t,factory:t.\u0275fac});let e=t;return e})();var O={isAuthenticated:!1,fullUserData:{},user:{},error:null},Q=$(O,o(h,(e,{user:t})=>n(s({},e),{isAuthenticated:!0,user:t,error:null})),o(p,(e,{error:t})=>n(s({},e),{isAuthenticated:!1,user:{},error:t})),o(v,(e,{user:t})=>n(s({},e),{isAuthenticated:!0,user:t})),o(j,()=>O),o(F,(e,{error:t})=>n(s({},e),{error:t})),o(y,(e,{user:t})=>n(s({},e),{user:t})),o(f,(e,{fullUserData:t})=>n(s({},e),{fullUserData:t})));export{C as a,D as b,B as c,Q as d};
