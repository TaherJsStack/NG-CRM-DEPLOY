import{a as T,b as u,c,d as U,e as $,f as j,g as x,h as m,i as y,j as D,k as b,l as w}from"./chunk-YMYLDPC3.js";import{a as p,b as v,c as f}from"./chunk-CNR7Q3KD.js";import{r as i,s as k}from"./chunk-VEPIDZAA.js";import{b as I}from"./chunk-4CMA2CRC.js";import{F as A,aa as l,ia as F,n as a,na as S,s as h}from"./chunk-MRUXGLTR.js";import{a as s,b as o}from"./chunk-MON7YFGF.js";var H=(()=>{let t=class t{constructor(d,g){this.actions$=d,this.authService=g,this.login$=p(()=>this.actions$.pipe(f(T),l(({username:r,password:E})=>this.authService.login(r,E).pipe(h(n=>(this.authService.currentUser=n,this.authService.appToken=n.token,u({user:n}))),A(n=>a(c({error:n}))))))),this.getUserData$=p(()=>this.actions$.pipe(f(x),l(()=>this.authService.getuserData().pipe(h(r=>m({fullUserData:r})),A(r=>a(c({error:r}))))))),this.refreshToken$=p(()=>this.actions$.pipe(f(U),l(()=>this.authService.refreshToken().pipe(h(r=>u({user:r})),A(r=>a(c({error:r})))))))}};t.\u0275fac=function(g){return new(g||t)(S(v),S(I))},t.\u0275prov=F({token:t,factory:t.\u0275fac});let e=t;return e})();var R={isAuthenticated:!1,fullUserData:{},user:{},error:null},N=k(R,i(u,(e,{user:t})=>o(s({},e),{isAuthenticated:!0,user:t,error:null})),i(c,(e,{error:t})=>o(s({},e),{isAuthenticated:!1,user:{},error:t})),i($,(e,{user:t})=>o(s({},e),{isAuthenticated:!0,user:t,error:null})),i(j,(e,{error:t})=>o(s({},e),{isAuthenticated:!1,user:{},error:t})),i(y,(e,{user:t})=>o(s({},e),{isAuthenticated:!0,user:t})),i(D,()=>R),i(b,(e,{error:t})=>o(s({},e),{error:t})),i(w,(e,{user:t})=>o(s({},e),{user:t})),i(m,(e,{fullUserData:t})=>o(s({},e),{fullUserData:t})));export{H as a,N as b};
